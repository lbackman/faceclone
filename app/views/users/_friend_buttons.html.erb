<% unless user == other_user %>
  <%= turbo_frame_tag friend_buttons_id(user.id, other_user.id), target: '_top' do %>
    <% if user.friends_with?(other_user) %>
      <%= button_to "Unfriend", friend_request, method: :delete, data: { turbo_confirm: "Are you sure?" } %>
    <% elsif user.sent_friend_request_to?(other_user) %>
      <%= button_to "Remove Friend Request", friend_request, method: :delete %>
    <% elsif user.received_friend_request_from?(other_user) %>
      <%= button_to "Accept Friend Request", friend_request, method: :patch, data: { turbo: params[:id].present? ? "false" : "true" } %>
      <%= button_to "Decline Friend Request", friend_request, method: :delete %>
    <% else %>
      <%= button_to "Add Friend", friend_request, params: {
        friend_request: {sender_id: user.id, receiver_id: other_user.id}
      } %>
    <% end %>
  <% end %>
<% end %>
